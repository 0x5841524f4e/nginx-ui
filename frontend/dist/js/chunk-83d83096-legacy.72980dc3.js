(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83d83096"],{"0cb2":function(t,e,a){var n=a("7b0b"),r=Math.floor,i="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,a,c,l,d){var u=a+t.length,f=c.length,p=s;return void 0!==l&&(l=n(l),p=o),i.call(d,p,(function(n,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(u);case"<":o=l[i.slice(1,-1)];break;default:var s=+i;if(0===s)return n;if(s>f){var d=r(s/10);return 0===d?n:d<=f?void 0===c[d-1]?i.charAt(1):c[d-1]+i.charAt(1):n}o=c[s-1]}return void 0===o?"":o}))}},"11c6":function(t,e,a){"use strict";a("5e9d")},"3d07":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'.ant-pro-footer-toolbar[data-v-89d7d506]{position:fixed;width:100%;bottom:0;right:0;height:56px;line-height:56px;box-shadow:0 -1px 2px rgba(0,0,0,.03);background:hsla(0,0%,100%,.5490196078431373);border-top:1px solid #e8e8e8;padding:0 24px;z-index:9}@media (prefers-color-scheme:dark){.ant-pro-footer-toolbar[data-v-89d7d506]{background:rgba(24,24,24,.62);border-top:unset}}.ant-pro-footer-toolbar[data-v-89d7d506]:after{content:"";display:block;clear:both}',""]),t.exports=e},"4d63":function(t,e,a){var n=a("83ab"),r=a("da84"),i=a("94ca"),o=a("7156"),s=a("9bf2").f,c=a("241c").f,l=a("44e7"),d=a("ad6d"),u=a("9f7f"),f=a("6eeb"),p=a("d039"),v=a("69f3").set,h=a("2626"),g=a("b622"),_=g("match"),b=r.RegExp,x=b.prototype,m=/a/g,y=/a/g,S=new b(m)!==m,E=u.UNSUPPORTED_Y,$=n&&i("RegExp",!S||E||p((function(){return y[_]=!1,b(m)!=m||b(y)==y||"/a/i"!=b(m,"i")})));if($){var w=function(t,e){var a,n=this instanceof w,r=l(t),i=void 0===e;if(!n&&r&&t.constructor===w&&i)return t;S?r&&!i&&(t=t.source):t instanceof w&&(i&&(e=d.call(t)),t=t.source),E&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var s=o(S?new b(t,e):b(t,e),n?this:x,w);return E&&a&&v(s,{sticky:a}),s},k=function(t){t in w||s(w,t,{configurable:!0,get:function(){return b[t]},set:function(e){b[t]=e}})},I=c(b),R=0;while(I.length>R)k(I[R++]);x.constructor=w,w.prototype=x,f(r,"RegExp",w)}h("RegExp")},"4e8a":function(t,e,a){"use strict";a("6b66")},5319:function(t,e,a){"use strict";var n=a("d784"),r=a("825a"),i=a("50c4"),o=a("a691"),s=a("1d80"),c=a("8aa5"),l=a("0cb2"),d=a("14c3"),u=Math.max,f=Math.min,p=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,a,n){var v=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=n.REPLACE_KEEPS_$0,g=v?"$":"$0";return[function(a,n){var r=s(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,r,n):e.call(String(r),a,n)},function(t,n){if(!v&&h||"string"===typeof n&&-1===n.indexOf(g)){var s=a(e,t,this,n);if(s.done)return s.value}var _=r(t),b=String(this),x="function"===typeof n;x||(n=String(n));var m=_.global;if(m){var y=_.unicode;_.lastIndex=0}var S=[];while(1){var E=d(_,b);if(null===E)break;if(S.push(E),!m)break;var $=String(E[0]);""===$&&(_.lastIndex=c(b,i(_.lastIndex),y))}for(var w="",k=0,I=0;I<S.length;I++){E=S[I];for(var R=String(E[0]),M=u(f(o(E.index),b.length),0),A=[],L=1;L<E.length;L++)A.push(p(E[L]));var O=E.groups;if(x){var P=[R].concat(A,M,b);void 0!==O&&P.push(O);var T=String(n.apply(void 0,P))}else T=l(R,b,M,A,O,n);M>=k&&(w+=b.slice(k,M)+T,k=M+R.length)}return w+b.slice(k)}]}))},"5d9d":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".ant-steps[data-v-2ea75492]{padding:10px 0 20px 0}",""]),t.exports=e},"5e9d":function(t,e,a){var n=a("3d07");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=a("499e").default;r("95f33600",n,!0,{sourceMap:!1,shadowMode:!1})},"6b66":function(t,e,a){var n=a("5d9d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=a("499e").default;r("8c3ae658",n,!0,{sourceMap:!1,shadowMode:!1})},8624:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{attrs:{title:"添加站点"}},[a("p",[t._v("在这里添加站点，添加完成后进入域名配置编辑页面即可配置 SSL")]),a("std-data-entry",{attrs:{"data-list":t.columns,"data-source":t.config}}),a("footer-tool-bar",[a("a-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v(" 完成 ")])],1)],1)},r=[],i=(a("fb6a"),a("b0c0"),a("9c70")),o=a("cb07"),s=a("f19a"),c=a("a1ab"),l={name:"DomainAdd",components:{StdDataEntry:o["a"],FooterToolBar:i["a"]},data:function(){return{config:{},columns:s["a"].slice(0,-1)}},beforeCreate:function(){},methods:{save:function(){var t=this;this.$api.domain.get_template("http-conf").then((function(e){var a=Object(c["a"])(e.template,t.config);t.$api.domain.save(t.config.name,{content:a,enabled:!0}).then((function(){t.$message.success("保存成功"),t.$api.domain.enable(t.config.name).then((function(){t.$message.success("启用成功"),t.$router.push("/domain/"+t.config.name)})).catch((function(e){var a;console.log(e),t.$message.error(null!==(a=e.message)&&void 0!==a?a:"启用失败",10)}))})).catch((function(e){var a;console.log(e),t.$message.error(null!==(a=e.message)&&void 0!==a?a:"保存错误",10)}))}))}}},d=l,u=(a("4e8a"),a("2877")),f=Object(u["a"])(d,n,r,!1,null,"2ea75492",null);e["default"]=f.exports},"9c70":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ant-pro-footer-toolbar"},[a("div",{staticStyle:{float:"left"}},[t._t("extra",[t._v(t._s(t.extra))])],2),a("div",{staticStyle:{float:"right"}},[t._t("default")],2)])},r=[],i={name:"FooterToolBar",props:{prefixCls:{type:String,default:"ant-pro-footer-toolbar"},extra:{type:[String,Object],default:""}}},o=i,s=(a("11c6"),a("2877")),c=Object(s["a"])(o,n,r,!1,null,"89d7d506",null);e["a"]=c.exports},a1ab:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("5319"),a("ac1f"),a("4d63"),a("25f0");var n=function(t,e){var a={server_name:/server_name[\s](.*);/gi,index:/index[\s](.*);/i,root:/root[\s](.*);/i,ssl_certificate:/ssl_certificate[\s](.*);/i,ssl_certificate_key:/ssl_certificate_key[\s](.*);/i};for(var n in t=t.replace(/listen[\s](.*);/i,"listen\t"+e["http_listen_port"]+";"),t=t.replace(/listen[\s](.*) ssl/i,"listen\t"+e["https_listen_port"]+" ssl"),t=t.replace(/listen(.*):(.*);/i,"listen\t[::]:"+e["http_listen_port"]+";"),t=t.replace(/listen(.*):(.*) ssl/i,"listen\t[::]:"+e["https_listen_port"]+" ssl"),a)t=t.replace(new RegExp(a[n]),n+"\t"+(void 0!==e[n]?e[n]:" ")+";");return t}},f19a:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r}));var n=[{title:"配置文件名称",dataIndex:"name",edit:{type:"input"}},{title:"网站域名 (server_name)",dataIndex:"server_name",edit:{type:"input"}},{title:"网站根目录 (root)",dataIndex:"root",edit:{type:"input"}},{title:"网站首页 (index)",dataIndex:"index",edit:{type:"input"}},{title:"http 监听端口",dataIndex:"http_listen_port",edit:{type:"number",min:80}},{title:"支持 SSL",dataIndex:"support_ssl",edit:{type:"switch",event:"change_support_ssl"}}],r=[{title:"自动续签",dataIndex:"auto_cert",edit:{type:"switch",event:"change_auto_cert"},description:"启用自动续签后，系统将会每小时检测一次该域名证书的信息，如果距离上次签发已超过1个月，则将执行自动续签。<br/>启用前先点击下方「自动申请 Let's Encrypt 证书」即可获得证书路径。"},{title:"https 监听端口",dataIndex:"https_listen_port",edit:{type:"number",min:443}},{title:"SSL 证书路径 (ssl_certificate)",dataIndex:"ssl_certificate",edit:{type:"input"}},{title:"SSL 证书私钥路径 (ssl_certificate_key)",dataIndex:"ssl_certificate_key",edit:{type:"input"}}]}}]);